import os,sys,itertools as it
sys.path.append(os.path.join(os.path.dirname(__file__), "..", ".."))
from utilities import *
data = [getints(x) for x in loadinput(os.path.join(os.path.dirname(__file__),"input.txt"))]

print(sum((lambda a,b,c,d:a[4]/a[3]-b[4]/b[3]!=0 and (((a[0]*(a[4]/a[3])-a[1])-(b[0]*(b[4]/b[3])-b[1]))/(a[4]/a[3]-b[4]/b[3])-a[0])/a[3]>0 and (((a[0]*(a[4]/a[3])-a[1])-(b[0]*(b[4]/b[3])-b[1]))/(a[4]/a[3]-b[4]/b[3])-b[0])/b[3]>0 and inbounds(((a[0]*(a[4]/a[3])-a[1])-(b[0]*(b[4]/b[3])-b[1]))/(a[4]/a[3]-b[4]/b[3]),c,d) and inbounds((b[4]/b[3]*(a[0]*a[4]/a[3]-a[1])-a[4]/a[3]*(b[0]*b[4]/b[3]-b[1]))/(a[4]/a[3]-b[4]/b[3]),c,d))(a,b,2e14,4e14) for a,b in it.combinations(data,2)))
print([x for x in [(lambda l:l[0]+l[1]+l[2] if all((lambda a,b:(lambda t:t[0]>0 and all(t[i]==t[i+1] for i in range(len(t)-1)))([x for x in [(a[i]-b[i])/(b[i+3]-a[i+3]) if b[i+3]!=a[i+3] else -1 for i in range(3)] if x!=-1]))((l[0],l[1],l[2],a,b,l[3]),h) for h in data) else -1)((lambda a,b,c,d:[-1,-1,-1,-1] if c[3]-a==0 or d[3]-a==0 or (c[4]-b)/(c[3]-a)==(d[4]-b)/(d[3]-a) else [round(i) for i in (((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a)),((c[4]-b)/(c[3]-a)*((d[4]-b)/(d[3]-a)*d[0]-d[1])-(d[4]-b)/(d[3]-a)*((c[4]-b)/(c[3]-a)*c[0]-c[1]))/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a)),(((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-c[0])//(c[3]-a))*(d[2]+d[5]*((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-d[0])//(d[3]-a)))-((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-d[0])//(d[3]-a))*(c[2]+c[5]*((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-c[0])//(c[3]-a))))/(((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-c[0])//(c[3]-a))-((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-d[0])//(d[3]-a))),((c[2]+c[5]*((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-c[0])//(c[3]-a)))-(d[2]+d[5]*((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-d[0])//(d[3]-a))))/(((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-c[0])//(c[3]-a))-((((d[4]-b)/(d[3]-a)*d[0]-d[1]-(c[4]-b)/(c[3]-a)*c[0]+c[1])/((d[4]-b)/(d[3]-a)-(c[4]-b)/(c[3]-a))-d[0])//(d[3]-a))))])(a,b,data[0],data[1])) for a in incrange(-200,200) for b in incrange(-200,200)] if x!=-1][0])